{"version":3,"file":"static/js/374.38aaeb3a.chunk.js","mappings":"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","sources":["../../../packages/store/dist/index.js","../../../packages/transport/dist/index.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport create from \"zustand\";\nimport agent from \"transport\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport produce from \"immer\";\nexport default agent;\nconst devToolsOptions = {\n    enabled: true,\n    anonymousActionType: \"unbekannt\",\n    name: \"Fishbook\"\n};\nconst stateOptions = {\n    name: \"fishbook-storage\",\n    getStorage: () => localStorage // (optional) by default, 'localStorage' is used\n};\nconst initial = {\n    feedItemType: \"\",\n    showModal: false,\n    pageSize: 7,\n    currentPage: 1,\n    aquarien: [],\n    displayName: null,\n    feed: { total: 0, groupedFeeds: [] },\n    redirectUrl: null,\n    timers: [],\n    token: null,\n    user: null\n};\nlet start = Object.assign({}, initial);\nexport const useStore = create()(devtools(persist((set, get) => (Object.assign(Object.assign({}, start), { addAquarium: (aquarium) => set(produce(state => {\n        state.aquarien = [...state.aquarien, aquarium];\n    }), false, \"addAquarium\"), addFeedItem: (feedItemType) => set(produce(state => {\n        state.showModal = true;\n        state.feedItemType = feedItemType;\n    }), false, \"addFeedItem\"), addTimer: (timer) => set(produce((state) => {\n        if (state.timers.find((t) => t.name === timer.name)) {\n            alert(`Timer '${timer.name}' schon vorhanden`);\n            return;\n        }\n        state.timers = [...state.timers, timer]\n            .sort((a, b) => a.current > b.current ? 1 : a.current === b.current ? 0 : -1);\n    }), false, \"addTimer\"), closeModal: () => {\n        set(produce(state => {\n            state.showModal = false;\n        }), false, \"closeModal\");\n    }, fetchAquarien: () => __awaiter(void 0, void 0, void 0, function* () {\n        const aquarien = yield agent.AquariumCall.list();\n        set(produce(state => {\n            state.aquarien = aquarien;\n        }), false, \"fetchAquarien\");\n    }), fetchFeed: (page, pageSize) => __awaiter(void 0, void 0, void 0, function* () {\n        const p = page !== null && page !== void 0 ? page : get().currentPage;\n        const s = pageSize !== null && pageSize !== void 0 ? pageSize : get().pageSize;\n        const feed = yield agent.FeedCall.list(p, s);\n        set(produce(state => {\n            state.feed = feed;\n            state.currentPage = p;\n            state.pageSize = s;\n        }), false, \"fetchFeed\");\n    }), incrementSecond: (timer) => {\n        set(produce(state => {\n            const ti = state.timers.find((t) => t.name === timer.name);\n            ti.current -= 1;\n            if (ti.current <= 0) {\n                ti.ringActive = true;\n                ti.active = false;\n                ti.current = 0;\n            }\n        }), false, \"incrementSecond\");\n    }, logout: () => {\n        window.localStorage.removeItem(\"token\");\n        window.sessionStorage.removeItem(\"fishbook-storage\");\n        set(produce(state => {\n            state.aquarien = initial.aquarien;\n            state.token = initial.token;\n            state.feed = initial.feed;\n            state.timers = initial.timers;\n            state.user = initial.user;\n            state.displayName = initial.displayName;\n            state.redirectUrl = \"/\";\n        }), false, \"logout\");\n    }, pauseTimer: (timer) => {\n        //timer.active = false;\n        set(produce(state => {\n            state.timers.find((t) => t.name === timer.name).active = false;\n        }), false, \"pauseTimer\");\n    }, removeTimer: (timer) => {\n        set(produce(state => {\n            state.timers = [...state.timers.filter((t) => t.name !== timer.name)];\n        }), false, \"removeTimer\");\n    }, setRedirectUrl: (redirectUrl = null) => {\n        set(produce(state => {\n            state.redirectUrl = redirectUrl;\n        }), false, \"setRedirectUrl\");\n    }, setTime: (time) => {\n        set(produce(state => {\n            const ti = state.timers.find((t) => t.name === time.timer.name);\n            ti.current = time.seconds;\n            ti.seconds = time.seconds;\n        }), false, \"setTime\");\n    }, setToken: (token) => {\n        window.localStorage.setItem(\"token\", token);\n        set(produce(state => {\n            state.token = token;\n        }), false, \"setToken\");\n    }, setUser: (user) => {\n        window.localStorage.setItem(\"token\", user.token);\n        set(produce(state => {\n            state.user = user;\n            state.token = user.token;\n            state.displayName = user.displayName;\n        }), false, \"setUser\");\n    }, startTimer: (timer) => {\n        set(produce(state => {\n            const t = state.timers.find((t) => t.name === timer.name);\n            t.active = true;\n            t.ringActive = false;\n        }), false, \"startTimer\");\n    } })), stateOptions), devToolsOptions));\n","import axios from \"axios\";\n//const token = useStore.getState().token;\n//const unsub1 = useStore.subscribe(console.log);\nconst responseBody = (response) => response.data;\n//axios.defaults.baseURL = process.env.REACT_APP_API_URL;\naxios.defaults.baseURL = \"http://localhost:5046\";\n//axios.defaults.baseURL = \"http://192.168.2.103:3088\";\naxios.interceptors.request.use(config => {\n    const token = window.localStorage.getItem(\"token\");\n    if (token) {\n        if (config.headers)\n            config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n});\nconst requests = {\n    get: (url) => axios.get(url).then(responseBody),\n    post: (url, body) => axios.post(url, body).then(responseBody),\n    put: (url, body) => axios.put(url, body).then(responseBody),\n    del: (url) => axios.delete(url).then(responseBody)\n};\nconst AquariumCall = {\n    list: () => requests.get(\"/api/aquarium\"),\n    create: (aquarium) => requests.post(\"/api/aquarium\", aquarium),\n    read: (id) => requests.get(`/api/aquarium/${id}`),\n    update: (aquarium) => requests.put(`/api/aquarium/${aquarium.id}`, aquarium),\n    delete: (id) => requests.del(`/api/aquarium/${id}`)\n};\nconst NotizCall = {\n    list: () => requests.get(\"/api/notiz\"),\n    create: (notiz) => requests.post(\"/api/notiz\", notiz),\n    read: (id) => requests.get(`/api/notiz/${id}`),\n    update: (notiz) => requests.put(`/api/notiz/${notiz.id}`, notiz),\n    delete: (id) => requests.del(`/api/notiz/${id}`)\n};\nconst FischCall = {\n    list: () => requests.get(\"/api/fisch\"),\n    create: (fisch) => requests.post(\"/api/fisch\", fisch),\n    read: (id) => requests.get(`/api/fisch/${id}`),\n    update: (fisch) => requests.put(`/api/fisch/${fisch.id}`, fisch),\n    delete: (id) => requests.del(`/api/fisch/${id}`)\n};\nconst KoralleCall = {\n    list: () => requests.get(\"/api/koralle\"),\n    create: (koralle) => requests.post(\"/api/koralle\", koralle),\n    read: (id) => requests.get(`/api/koralle/${id}`),\n    update: (koralle) => requests.put(`/api/koralle/${koralle.id}`, koralle),\n    delete: (id) => requests.del(`/api/koralle/${id}`)\n};\nconst DuengungCall = {\n    list: () => requests.get(\"/api/duengung\"),\n    create: (duengung) => requests.post(\"/api/duengung\", duengung),\n    update: (duengung) => requests.put(`/api/duengung/${duengung.id}`, duengung),\n    delete: (id) => requests.del(`/api/duengung/${id}`)\n};\nconst MessungCall = {\n    list: () => requests.get(\"/api/messung\"),\n    create: (messung) => requests.post(\"/api/messung\", messung),\n    update: (messung) => requests.put(`/api/messung/${messung.id}`, messung),\n    delete: (id) => requests.del(`/api/messung/${id}`)\n};\nconst FeedCall = {\n    list: (page, days) => requests.get(`/api/feed/grouped?page=${page}&days=${days}`)\n};\n/*\nconst TagCall = {\n  list: () => requests.get<string[]>('/api/tag')\n};\n\n*/\nconst AccountCall = {\n    current: () => requests.get('/api/account'),\n    login: (user) => requests.post(\"/api/account/login\", user),\n    register: (user) => requests.post('/api/account/register', user)\n};\nexport const agent = {\n    AquariumCall,\n    AccountCall,\n    DuengungCall,\n    FeedCall,\n    FischCall,\n    KoralleCall,\n    MessungCall,\n    NotizCall\n};\nexport default agent;\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","agent","stateOptions","name","getStorage","localStorage","initial","feedItemType","showModal","pageSize","currentPage","aquarien","displayName","feed","total","groupedFeeds","redirectUrl","timers","token","user","start","Object","assign","useStore","create","devtools","persist","set","get","addAquarium","aquarium","produce","state","addFeedItem","addTimer","timer","find","t","alert","sort","a","b","current","closeModal","fetchAquarien","fetchFeed","page","p","s","incrementSecond","ti","ringActive","active","logout","window","removeItem","sessionStorage","pauseTimer","removeTimer","filter","setRedirectUrl","setTime","time","seconds","setToken","setItem","setUser","startTimer","enabled","anonymousActionType","responseBody","response","data","axios","config","getItem","headers","Authorization","requests","url","body","AquariumCall","list","read","id","update","delete","AccountCall","login","register","DuengungCall","duengung","FeedCall","days","FischCall","fisch","KoralleCall","koralle","MessungCall","messung","NotizCall","notiz"],"sourceRoot":""}