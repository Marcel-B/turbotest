/*! For license information please see 65.fe74745c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkidentity=self.webpackChunkidentity||[]).push([[65,610,471],{2452:function(e,t,r){var n=r(8655),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},6610:function(e,t,r){e.exports=r(2452)},3065:function(e,t,r){r.r(t);var n=r(9742),i=r(6610),o=r(3298),s=r(8641),a=r(3689),l=r(8871),c=r.n(l),u=r(8655),d=r(8948),f=r(6037),p=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},h=o.object({email:o.string().email("email Format").required("ben\xf6tigt"),password:o.string().required("ben\xf6tigt")}).required();t.default=function(e){var t,r,o=e.redirectUrl,m=(0,l.useStore)(),g=m.setRedirectUrl,x=m.setUser,b=(0,d.useForm)({resolver:(0,f.X)(h)}),j=b.formState.errors,v=b.handleSubmit,y=b.register;(0,u.useEffect)((function(){var e=new a.UserManager({authority:"http://localhost:6065",client_id:"fishbook.js.client",redirect_uri:"http://localhost:3000/callback",response_type:"code",scope:"openid profile fishbook-feed",post_logout_redirect_uri:"http://localhost:3000/"});e.getUser().then((function(t){t?console.log("User logged in",t.profile):(console.log("User not logged in"),e.signinRedirect().catch((function(e){return console.error(e)})))}))}),[]);return(0,i.jsxs)(s.Box,{children:[(0,i.jsx)(s.Typography,Object.assign({variant:"h4"},{children:"Anmelden"})),(0,i.jsx)(s.Divider,{orientation:"horizontal",sx:{mb:2}}),(0,i.jsx)("form",Object.assign({onSubmit:v((function(e){return p(void 0,void 0,void 0,(0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,c().AccountCall.login(e);case 3:r=t.sent,x(r),g(o);case 6:case"end":return t.stop()}}),t)})))}))},{children:(0,i.jsxs)(s.Grid,Object.assign({container:!0,spacing:2,sx:{justifyContent:"flex-end"}},{children:[(0,i.jsx)(s.Grid,Object.assign({item:!0,md:6,xs:12},{children:(0,i.jsx)(s.TextField,Object.assign({label:"Email",type:"text",autoComplete:"username",defaultValue:"",error:!!j.email},y("email"),{helperText:null===(t=j.email)||void 0===t?void 0:t.message,fullWidth:!0,name:"email"}))})),(0,i.jsx)(s.Grid,Object.assign({item:!0,md:6,xs:12},{children:(0,i.jsx)(s.TextField,Object.assign({label:"Passwort",type:"password",autoComplete:"current-password",error:!!j.password,fullWidth:!0},y("password"),{helperText:null===(r=j.password)||void 0===r?void 0:r.message,defaultValue:"",name:"password"}))})),(0,i.jsx)(s.Grid,Object.assign({item:!0},{children:(0,i.jsx)(s.Button,Object.assign({type:"submit"},{children:"Login"}))}))]}))}))]})}}}]);
//# sourceMappingURL=65.fe74745c.chunk.js.map